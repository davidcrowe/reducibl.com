---
layout: default
---

<article>
  <h2>{{ page.title }}</h2>
  <p class="meta">{{ page.date | date: "%Y-%m-%d" }}</p>

  {% if page.categories contains "buildlog" %}
    <p style="font-style: italic; color: var(--muted); margin-bottom: 1rem;">
      this build log is <a href="{{ '/buildlogs' | relative_url }}">automatically generated</a>
    </p>
    {% if page.toolCallCount %}
    <div style="display: flex; flex-wrap: wrap; gap: 0.5rem; margin-bottom: 1.25rem;">
      <span style="background: var(--heading, #231E5C); color: white; padding: 0.35rem 0.75rem; border-radius: 2rem; font-size: 0.8rem; font-weight: 500;">{{ page.toolCallCount | divided_by: 1000.0 | round: 1 }}k tool calls</span>
      {% if page.filesWrittenCount %}<span style="background: var(--heading, #231E5C); color: white; padding: 0.35rem 0.75rem; border-radius: 2rem; font-size: 0.8rem; font-weight: 500;">{{ page.filesWrittenCount }} files</span>{% endif %}
      {% if page.sessionCount %}<span style="background: var(--heading, #231E5C); color: white; padding: 0.35rem 0.75rem; border-radius: 2rem; font-size: 0.8rem; font-weight: 500;">{{ page.sessionCount }} sessions</span>{% endif %}
    </div>
    {% if page.projectsWorkedOn %}
    <div style="display: flex; flex-wrap: wrap; gap: 0.4rem; margin-bottom: 1.25rem;">
      {% for project in page.projectsWorkedOn %}
      <span style="background: rgba(35, 30, 92, 0.08); color: var(--heading, #231E5C); padding: 0.25rem 0.6rem; border-radius: 0.25rem; font-size: 0.75rem;">{{ project }}</span>
      {% endfor %}
    </div>
    {% endif %}
    {% if page.toolBreakdown %}
    {% assign max_tool_count = 0 %}
    {% for tool in page.toolBreakdown %}{% if tool[1] > max_tool_count %}{% assign max_tool_count = tool[1] %}{% endif %}{% endfor %}
    <details style="margin-bottom: 1.5rem;">
      <summary style="cursor: pointer; color: var(--muted); font-size: 0.8rem; font-weight: 500;">tool breakdown</summary>
      <div style="margin-top: 0.75rem; display: flex; flex-direction: column; gap: 0.4rem; max-width: 400px;">
        {% for tool in page.toolBreakdown %}
        {% assign bar_width = tool[1] | times: 100 | divided_by: max_tool_count %}
        <div style="display: flex; align-items: center; gap: 0.5rem; font-size: 0.75rem;">
          <span style="width: 70px; color: var(--muted); text-align: right;">{{ tool[0] }}</span>
          <div style="flex: 1; background: rgba(35, 30, 92, 0.1); border-radius: 2px; height: 8px; overflow: hidden;">
            <div style="width: {{ bar_width }}%; background: var(--heading, #231E5C); height: 100%; border-radius: 2px;"></div>
          </div>
          <span style="width: 35px; color: var(--muted); font-size: 0.7rem;">{{ tool[1] }}</span>
        </div>
        {% endfor %}
      </div>
    </details>
    {% endif %}
    {% endif %}
  {% endif %}

  {{ content }}

  {% if page.categories contains "buildlog" %}
  <hr style="margin: 2rem 0; border: none; border-top: 1px solid var(--muted);">
    <p style="color: var(--muted);">
      interested in working together? <a href="{{ '/build' | relative_url }}">let's talk</a>
    </p>  
    <p style="margin-top: 2rem;">
      <a href="{{ '/buildlogs' | relative_url }}">← back to build logs</a>
    </p>
  {% else %}
    <p style="color: var(--muted);">
      interested in working together? <a href="{{ '/build' | relative_url }}">let's talk</a>
    </p>
    <p style="margin-top: 2rem;">
      <a href="{{ '/writing' | relative_url }}">← back to writing</a>
    </p>
  {% endif %}

</article>
